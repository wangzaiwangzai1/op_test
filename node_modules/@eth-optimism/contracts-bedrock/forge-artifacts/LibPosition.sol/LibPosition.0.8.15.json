{"abi":[],"bytecode":{"object":"0x602d6037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea164736f6c634300080f000a","sourceMap":"599:8922:183:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;599:8922:183;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea164736f6c634300080f000a","sourceMap":"599:8922:183:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.15+commit.e14f2714\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"title\":\"LibPosition\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"This library contains helper functions for working with the `Position` type.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/dispute/lib/LibPosition.sol\":\"LibPosition\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":999999},\"remappings\":[\":@lib-keccak/=lib/lib-keccak/contracts/lib/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@rari-capital/solmate/=lib/solmate/\",\":@solady-test/=lib/lib-keccak/lib/solady/test/\",\":@solady/=lib/solady/src/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":kontrol-cheatcodes/=lib/kontrol-cheatcodes/src/\",\":lib-keccak/=lib/lib-keccak/contracts/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":safe-contracts/=lib/safe-contracts/contracts/\",\":solady/=lib/solady/\",\":solmate/=lib/solmate/src/\"]},\"sources\":{\"src/dispute/lib/LibPosition.sol\":{\"keccak256\":\"0x7c5f19f8f54f06de2ce1c6cdcc5c7af65ac405130a4066cdaf146ca315818241\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://06905e5ede94784e32748ad60557cb0b0829089d65430518e7042b80d2f64e2d\",\"dweb:/ipfs/QmeGKMmnFnow2VrRvTSPavCrToqQ3qDpEaR1tVoK6Hzg8K\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.15+commit.e14f2714"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@lib-keccak/=lib/lib-keccak/contracts/lib/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@rari-capital/solmate/=lib/solmate/","@solady-test/=lib/lib-keccak/lib/solady/test/","@solady/=lib/solady/src/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/","kontrol-cheatcodes/=lib/kontrol-cheatcodes/src/","lib-keccak/=lib/lib-keccak/contracts/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","safe-contracts/=lib/safe-contracts/contracts/","solady/=lib/solady/","solmate/=lib/solmate/src/"],"optimizer":{"enabled":true,"runs":999999},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"src/dispute/lib/LibPosition.sol":"LibPosition"},"evmVersion":"london","libraries":{}},"sources":{"src/dispute/lib/LibPosition.sol":{"keccak256":"0x7c5f19f8f54f06de2ce1c6cdcc5c7af65ac405130a4066cdaf146ca315818241","urls":["bzz-raw://06905e5ede94784e32748ad60557cb0b0829089d65430518e7042b80d2f64e2d","dweb:/ipfs/QmeGKMmnFnow2VrRvTSPavCrToqQ3qDpEaR1tVoK6Hzg8K"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[],"types":{}},"userdoc":{"version":1,"kind":"user","notice":"This library contains helper functions for working with the `Position` type."},"devdoc":{"version":1,"kind":"dev","title":"LibPosition"},"ast":{"absolutePath":"src/dispute/lib/LibPosition.sol","id":104085,"exportedSymbols":{"LibPosition":[104084],"Position":[103871]},"nodeType":"SourceUnit","src":"32:9490:183","nodes":[{"id":103865,"nodeType":"PragmaDirective","src":"32:24:183","nodes":[],"literals":["solidity","^","0.8",".15"]},{"id":103869,"nodeType":"UsingForDirective","src":"58:38:183","nodes":[],"global":true,"libraryName":{"id":103866,"name":"LibPosition","nodeType":"IdentifierPath","referencedDeclaration":104084,"src":"64:11:183"},"typeName":{"id":103868,"nodeType":"UserDefinedTypeName","pathNode":{"id":103867,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"80:8:183"},"referencedDeclaration":103871,"src":"80:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}}},{"id":103871,"nodeType":"UserDefinedValueTypeDefinition","src":"460:25:183","nodes":[],"canonicalName":"Position","name":"Position","nameLocation":"465:8:183","underlyingType":{"id":103870,"name":"uint128","nodeType":"ElementaryTypeName","src":"477:7:183","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}},{"id":104084,"nodeType":"ContractDefinition","src":"599:8922:183","nodes":[{"id":103876,"nodeType":"VariableDeclaration","src":"811:49:183","nodes":[],"constant":true,"documentation":{"id":103873,"nodeType":"StructuredDocumentation","src":"625:181:183","text":"@notice the `MAX_POSITION_BITLEN` is the number of bits that the `Position` type, and the implementation of\n         its behavior within this library, can safely support."},"mutability":"constant","name":"MAX_POSITION_BITLEN","nameLocation":"835:19:183","scope":104084,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":103874,"name":"uint8","nodeType":"ElementaryTypeName","src":"811:5:183","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"value":{"hexValue":"313236","id":103875,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"857:3:183","typeDescriptions":{"typeIdentifier":"t_rational_126_by_1","typeString":"int_const 126"},"value":"126"},"visibility":"internal"},{"id":103889,"nodeType":"FunctionDefinition","src":"1116:241:183","nodes":[],"body":{"id":103888,"nodeType":"Block","src":"1210:147:183","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"1229:122:183","statements":[{"nodeType":"YulAssignment","src":"1294:47:183","value":{"arguments":[{"arguments":[{"name":"_depth","nodeType":"YulIdentifier","src":"1315:6:183"},{"kind":"number","nodeType":"YulLiteral","src":"1323:1:183","type":"","value":"1"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"1311:3:183"},"nodeType":"YulFunctionCall","src":"1311:14:183"},{"name":"_indexAtDepth","nodeType":"YulIdentifier","src":"1327:13:183"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"1307:3:183"},"nodeType":"YulFunctionCall","src":"1307:34:183"},"variableNames":[{"name":"position_","nodeType":"YulIdentifier","src":"1294:9:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":103879,"isOffset":false,"isSlot":false,"src":"1315:6:183","valueSize":1},{"declaration":103881,"isOffset":false,"isSlot":false,"src":"1327:13:183","valueSize":1},{"declaration":103885,"isOffset":false,"isSlot":false,"src":"1294:9:183","valueSize":1}],"id":103887,"nodeType":"InlineAssembly","src":"1220:131:183"}]},"documentation":{"id":103877,"nodeType":"StructuredDocumentation","src":"867:244:183","text":"@notice Computes a generalized index (2^{depth} + indexAtDepth).\n @param _depth The depth of the position.\n @param _indexAtDepth The index at the depth of the position.\n @return position_ The computed generalized index."},"implemented":true,"kind":"function","modifiers":[],"name":"wrap","nameLocation":"1125:4:183","parameters":{"id":103882,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103879,"mutability":"mutable","name":"_depth","nameLocation":"1136:6:183","nodeType":"VariableDeclaration","scope":103889,"src":"1130:12:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":103878,"name":"uint8","nodeType":"ElementaryTypeName","src":"1130:5:183","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":103881,"mutability":"mutable","name":"_indexAtDepth","nameLocation":"1152:13:183","nodeType":"VariableDeclaration","scope":103889,"src":"1144:21:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":103880,"name":"uint128","nodeType":"ElementaryTypeName","src":"1144:7:183","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"1129:37:183"},"returnParameters":{"id":103886,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103885,"mutability":"mutable","name":"position_","nameLocation":"1199:9:183","nodeType":"VariableDeclaration","scope":103889,"src":"1190:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103884,"nodeType":"UserDefinedTypeName","pathNode":{"id":103883,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"1190:8:183"},"referencedDeclaration":103871,"src":"1190:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"1189:20:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":103900,"nodeType":"FunctionDefinition","src":"1628:1076:183","nodes":[],"body":{"id":103899,"nodeType":"Block","src":"1700:1004:183","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"1811:887:183","statements":[{"nodeType":"YulAssignment","src":"1825:76:183","value":{"arguments":[{"name":"depth_","nodeType":"YulIdentifier","src":"1838:6:183"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"1850:1:183","type":"","value":"6"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"1856:18:183","type":"","value":"0xffffffffffffffff"},{"arguments":[{"name":"depth_","nodeType":"YulIdentifier","src":"1880:6:183"},{"name":"_position","nodeType":"YulIdentifier","src":"1888:9:183"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"1876:3:183"},"nodeType":"YulFunctionCall","src":"1876:22:183"}],"functionName":{"name":"lt","nodeType":"YulIdentifier","src":"1853:2:183"},"nodeType":"YulFunctionCall","src":"1853:46:183"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"1846:3:183"},"nodeType":"YulFunctionCall","src":"1846:54:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"1835:2:183"},"nodeType":"YulFunctionCall","src":"1835:66:183"},"variableNames":[{"name":"depth_","nodeType":"YulIdentifier","src":"1825:6:183"}]},{"nodeType":"YulAssignment","src":"1914:68:183","value":{"arguments":[{"name":"depth_","nodeType":"YulIdentifier","src":"1927:6:183"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"1939:1:183","type":"","value":"5"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"1945:10:183","type":"","value":"0xffffffff"},{"arguments":[{"name":"depth_","nodeType":"YulIdentifier","src":"1961:6:183"},{"name":"_position","nodeType":"YulIdentifier","src":"1969:9:183"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"1957:3:183"},"nodeType":"YulFunctionCall","src":"1957:22:183"}],"functionName":{"name":"lt","nodeType":"YulIdentifier","src":"1942:2:183"},"nodeType":"YulFunctionCall","src":"1942:38:183"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"1935:3:183"},"nodeType":"YulFunctionCall","src":"1935:46:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"1924:2:183"},"nodeType":"YulFunctionCall","src":"1924:58:183"},"variableNames":[{"name":"depth_","nodeType":"YulIdentifier","src":"1914:6:183"}]},{"nodeType":"YulAssignment","src":"2062:35:183","value":{"arguments":[{"name":"depth_","nodeType":"YulIdentifier","src":"2079:6:183"},{"name":"_position","nodeType":"YulIdentifier","src":"2087:9:183"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"2075:3:183"},"nodeType":"YulFunctionCall","src":"2075:22:183"},"variableNames":[{"name":"_position","nodeType":"YulIdentifier","src":"2062:9:183"}]},{"nodeType":"YulAssignment","src":"2110:45:183","value":{"arguments":[{"name":"_position","nodeType":"YulIdentifier","src":"2126:9:183"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"2141:1:183","type":"","value":"1"},{"name":"_position","nodeType":"YulIdentifier","src":"2144:9:183"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"2137:3:183"},"nodeType":"YulFunctionCall","src":"2137:17:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"2123:2:183"},"nodeType":"YulFunctionCall","src":"2123:32:183"},"variableNames":[{"name":"_position","nodeType":"YulIdentifier","src":"2110:9:183"}]},{"nodeType":"YulAssignment","src":"2168:45:183","value":{"arguments":[{"name":"_position","nodeType":"YulIdentifier","src":"2184:9:183"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"2199:1:183","type":"","value":"2"},{"name":"_position","nodeType":"YulIdentifier","src":"2202:9:183"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"2195:3:183"},"nodeType":"YulFunctionCall","src":"2195:17:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"2181:2:183"},"nodeType":"YulFunctionCall","src":"2181:32:183"},"variableNames":[{"name":"_position","nodeType":"YulIdentifier","src":"2168:9:183"}]},{"nodeType":"YulAssignment","src":"2226:45:183","value":{"arguments":[{"name":"_position","nodeType":"YulIdentifier","src":"2242:9:183"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"2257:1:183","type":"","value":"4"},{"name":"_position","nodeType":"YulIdentifier","src":"2260:9:183"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"2253:3:183"},"nodeType":"YulFunctionCall","src":"2253:17:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"2239:2:183"},"nodeType":"YulFunctionCall","src":"2239:32:183"},"variableNames":[{"name":"_position","nodeType":"YulIdentifier","src":"2226:9:183"}]},{"nodeType":"YulAssignment","src":"2284:45:183","value":{"arguments":[{"name":"_position","nodeType":"YulIdentifier","src":"2300:9:183"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"2315:1:183","type":"","value":"8"},{"name":"_position","nodeType":"YulIdentifier","src":"2318:9:183"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"2311:3:183"},"nodeType":"YulFunctionCall","src":"2311:17:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"2297:2:183"},"nodeType":"YulFunctionCall","src":"2297:32:183"},"variableNames":[{"name":"_position","nodeType":"YulIdentifier","src":"2284:9:183"}]},{"nodeType":"YulAssignment","src":"2342:46:183","value":{"arguments":[{"name":"_position","nodeType":"YulIdentifier","src":"2358:9:183"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"2373:2:183","type":"","value":"16"},{"name":"_position","nodeType":"YulIdentifier","src":"2377:9:183"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"2369:3:183"},"nodeType":"YulFunctionCall","src":"2369:18:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"2355:2:183"},"nodeType":"YulFunctionCall","src":"2355:33:183"},"variableNames":[{"name":"_position","nodeType":"YulIdentifier","src":"2342:9:183"}]},{"nodeType":"YulAssignment","src":"2402:286:183","value":{"arguments":[{"name":"depth_","nodeType":"YulIdentifier","src":"2452:6:183"},{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"2514:3:183","type":"","value":"251"},{"arguments":[{"name":"_position","nodeType":"YulIdentifier","src":"2523:9:183"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"2538:3:183","type":"","value":"224"},{"kind":"number","nodeType":"YulLiteral","src":"2543:10:183","type":"","value":"0x07c4acdd"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"2534:3:183"},"nodeType":"YulFunctionCall","src":"2534:20:183"}],"functionName":{"name":"mul","nodeType":"YulIdentifier","src":"2519:3:183"},"nodeType":"YulFunctionCall","src":"2519:36:183"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"2510:3:183"},"nodeType":"YulFunctionCall","src":"2510:46:183"},{"kind":"number","nodeType":"YulLiteral","src":"2582:66:183","type":"","value":"0x0009010a0d15021d0b0e10121619031e080c141c0f111807131b17061a05041f"}],"functionName":{"name":"byte","nodeType":"YulIdentifier","src":"2480:4:183"},"nodeType":"YulFunctionCall","src":"2480:190:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"2428:2:183"},"nodeType":"YulFunctionCall","src":"2428:260:183"},"variableNames":[{"name":"depth_","nodeType":"YulIdentifier","src":"2402:6:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":103893,"isOffset":false,"isSlot":false,"src":"1888:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"1969:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2062:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2087:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2110:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2126:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2144:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2168:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2184:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2202:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2226:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2242:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2260:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2284:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2300:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2318:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2342:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2358:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2377:9:183","valueSize":1},{"declaration":103893,"isOffset":false,"isSlot":false,"src":"2523:9:183","valueSize":1},{"declaration":103896,"isOffset":false,"isSlot":false,"src":"1825:6:183","valueSize":1},{"declaration":103896,"isOffset":false,"isSlot":false,"src":"1838:6:183","valueSize":1},{"declaration":103896,"isOffset":false,"isSlot":false,"src":"1880:6:183","valueSize":1},{"declaration":103896,"isOffset":false,"isSlot":false,"src":"1914:6:183","valueSize":1},{"declaration":103896,"isOffset":false,"isSlot":false,"src":"1927:6:183","valueSize":1},{"declaration":103896,"isOffset":false,"isSlot":false,"src":"1961:6:183","valueSize":1},{"declaration":103896,"isOffset":false,"isSlot":false,"src":"2079:6:183","valueSize":1},{"declaration":103896,"isOffset":false,"isSlot":false,"src":"2402:6:183","valueSize":1},{"declaration":103896,"isOffset":false,"isSlot":false,"src":"2452:6:183","valueSize":1}],"id":103898,"nodeType":"InlineAssembly","src":"1802:896:183"}]},"documentation":{"id":103890,"nodeType":"StructuredDocumentation","src":"1363:260:183","text":"@notice Pulls the `depth` out of a `Position` type.\n @param _position The generalized index to get the `depth` of.\n @return depth_ The `depth` of the `position` gindex.\n @custom:attribution Solady <https://github.com/Vectorized/Solady>"},"implemented":true,"kind":"function","modifiers":[],"name":"depth","nameLocation":"1637:5:183","parameters":{"id":103894,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103893,"mutability":"mutable","name":"_position","nameLocation":"1652:9:183","nodeType":"VariableDeclaration","scope":103900,"src":"1643:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103892,"nodeType":"UserDefinedTypeName","pathNode":{"id":103891,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"1643:8:183"},"referencedDeclaration":103871,"src":"1643:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"1642:20:183"},"returnParameters":{"id":103897,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103896,"mutability":"mutable","name":"depth_","nameLocation":"1692:6:183","nodeType":"VariableDeclaration","scope":103900,"src":"1686:12:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":103895,"name":"uint8","nodeType":"ElementaryTypeName","src":"1686:5:183","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"src":"1685:14:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":103917,"nodeType":"FunctionDefinition","src":"3171:363:183","nodes":[],"body":{"id":103916,"nodeType":"Block","src":"3259:275:183","nodes":[],"statements":[{"assignments":[103910],"declarations":[{"constant":false,"id":103910,"mutability":"mutable","name":"msb","nameLocation":"3419:3:183","nodeType":"VariableDeclaration","scope":103916,"src":"3411:11:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103909,"name":"uint256","nodeType":"ElementaryTypeName","src":"3411:7:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":103914,"initialValue":{"arguments":[{"id":103912,"name":"_position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103904,"src":"3431:9:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}],"id":103911,"name":"depth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103900,"src":"3425:5:183","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_Position_$103871_$returns$_t_uint8_$","typeString":"function (Position) pure returns (uint8)"}},"id":103913,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3425:16:183","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"VariableDeclarationStatement","src":"3411:30:183"},{"AST":{"nodeType":"YulBlock","src":"3460:68:183","statements":[{"nodeType":"YulAssignment","src":"3474:44:183","value":{"arguments":[{"name":"_position","nodeType":"YulIdentifier","src":"3495:9:183"},{"arguments":[{"name":"msb","nodeType":"YulIdentifier","src":"3510:3:183"},{"kind":"number","nodeType":"YulLiteral","src":"3515:1:183","type":"","value":"1"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"3506:3:183"},"nodeType":"YulFunctionCall","src":"3506:11:183"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"3491:3:183"},"nodeType":"YulFunctionCall","src":"3491:27:183"},"variableNames":[{"name":"indexAtDepth_","nodeType":"YulIdentifier","src":"3474:13:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":103904,"isOffset":false,"isSlot":false,"src":"3495:9:183","valueSize":1},{"declaration":103907,"isOffset":false,"isSlot":false,"src":"3474:13:183","valueSize":1},{"declaration":103910,"isOffset":false,"isSlot":false,"src":"3510:3:183","valueSize":1}],"id":103915,"nodeType":"InlineAssembly","src":"3451:77:183"}]},"documentation":{"id":103901,"nodeType":"StructuredDocumentation","src":"2710:456:183","text":"@notice Pulls the `indexAtDepth` out of a `Position` type.\n         The `indexAtDepth` is the left/right index of a position at a specific depth within\n         the binary tree, starting from index 0. For example, at gindex 2, the `depth` = 1\n         and the `indexAtDepth` = 0.\n @param _position The generalized index to get the `indexAtDepth` of.\n @return indexAtDepth_ The `indexAtDepth` of the `position` gindex."},"implemented":true,"kind":"function","modifiers":[],"name":"indexAtDepth","nameLocation":"3180:12:183","parameters":{"id":103905,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103904,"mutability":"mutable","name":"_position","nameLocation":"3202:9:183","nodeType":"VariableDeclaration","scope":103917,"src":"3193:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103903,"nodeType":"UserDefinedTypeName","pathNode":{"id":103902,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"3193:8:183"},"referencedDeclaration":103871,"src":"3193:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"3192:20:183"},"returnParameters":{"id":103908,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103907,"mutability":"mutable","name":"indexAtDepth_","nameLocation":"3244:13:183","nodeType":"VariableDeclaration","scope":103917,"src":"3236:21:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":103906,"name":"uint128","nodeType":"ElementaryTypeName","src":"3236:7:183","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"3235:23:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":103929,"nodeType":"FunctionDefinition","src":"3720:148:183","nodes":[],"body":{"id":103928,"nodeType":"Block","src":"3793:75:183","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"3812:50:183","statements":[{"nodeType":"YulAssignment","src":"3826:26:183","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"3839:1:183","type":"","value":"1"},{"name":"_position","nodeType":"YulIdentifier","src":"3842:9:183"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"3835:3:183"},"nodeType":"YulFunctionCall","src":"3835:17:183"},"variableNames":[{"name":"left_","nodeType":"YulIdentifier","src":"3826:5:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":103921,"isOffset":false,"isSlot":false,"src":"3842:9:183","valueSize":1},{"declaration":103925,"isOffset":false,"isSlot":false,"src":"3826:5:183","valueSize":1}],"id":103927,"nodeType":"InlineAssembly","src":"3803:59:183"}]},"documentation":{"id":103918,"nodeType":"StructuredDocumentation","src":"3540:175:183","text":"@notice Get the left child of `_position`.\n @param _position The position to get the left position of.\n @return left_ The position to the left of `position`."},"implemented":true,"kind":"function","modifiers":[],"name":"left","nameLocation":"3729:4:183","parameters":{"id":103922,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103921,"mutability":"mutable","name":"_position","nameLocation":"3743:9:183","nodeType":"VariableDeclaration","scope":103929,"src":"3734:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103920,"nodeType":"UserDefinedTypeName","pathNode":{"id":103919,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"3734:8:183"},"referencedDeclaration":103871,"src":"3734:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"3733:20:183"},"returnParameters":{"id":103926,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103925,"mutability":"mutable","name":"left_","nameLocation":"3786:5:183","nodeType":"VariableDeclaration","scope":103929,"src":"3777:14:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103924,"nodeType":"UserDefinedTypeName","pathNode":{"id":103923,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"3777:8:183"},"referencedDeclaration":103871,"src":"3777:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"3776:16:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":103941,"nodeType":"FunctionDefinition","src":"4057:158:183","nodes":[],"body":{"id":103940,"nodeType":"Block","src":"4132:83:183","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"4151:58:183","statements":[{"nodeType":"YulAssignment","src":"4165:34:183","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"4178:1:183","type":"","value":"1"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"4185:1:183","type":"","value":"1"},{"name":"_position","nodeType":"YulIdentifier","src":"4188:9:183"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"4181:3:183"},"nodeType":"YulFunctionCall","src":"4181:17:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"4175:2:183"},"nodeType":"YulFunctionCall","src":"4175:24:183"},"variableNames":[{"name":"right_","nodeType":"YulIdentifier","src":"4165:6:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":103933,"isOffset":false,"isSlot":false,"src":"4188:9:183","valueSize":1},{"declaration":103937,"isOffset":false,"isSlot":false,"src":"4165:6:183","valueSize":1}],"id":103939,"nodeType":"InlineAssembly","src":"4142:67:183"}]},"documentation":{"id":103930,"nodeType":"StructuredDocumentation","src":"3874:178:183","text":"@notice Get the right child of `_position`\n @param _position The position to get the right position of.\n @return right_ The position to the right of `position`."},"implemented":true,"kind":"function","modifiers":[],"name":"right","nameLocation":"4066:5:183","parameters":{"id":103934,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103933,"mutability":"mutable","name":"_position","nameLocation":"4081:9:183","nodeType":"VariableDeclaration","scope":103941,"src":"4072:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103932,"nodeType":"UserDefinedTypeName","pathNode":{"id":103931,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"4072:8:183"},"referencedDeclaration":103871,"src":"4072:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"4071:20:183"},"returnParameters":{"id":103938,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103937,"mutability":"mutable","name":"right_","nameLocation":"4124:6:183","nodeType":"VariableDeclaration","scope":103941,"src":"4115:15:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103936,"nodeType":"UserDefinedTypeName","pathNode":{"id":103935,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"4115:8:183"},"referencedDeclaration":103871,"src":"4115:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"4114:17:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":103953,"nodeType":"FunctionDefinition","src":"4405:154:183","nodes":[],"body":{"id":103952,"nodeType":"Block","src":"4482:77:183","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"4501:52:183","statements":[{"nodeType":"YulAssignment","src":"4515:28:183","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"4530:1:183","type":"","value":"1"},{"name":"_position","nodeType":"YulIdentifier","src":"4533:9:183"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"4526:3:183"},"nodeType":"YulFunctionCall","src":"4526:17:183"},"variableNames":[{"name":"parent_","nodeType":"YulIdentifier","src":"4515:7:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":103945,"isOffset":false,"isSlot":false,"src":"4533:9:183","valueSize":1},{"declaration":103949,"isOffset":false,"isSlot":false,"src":"4515:7:183","valueSize":1}],"id":103951,"nodeType":"InlineAssembly","src":"4492:61:183"}]},"documentation":{"id":103942,"nodeType":"StructuredDocumentation","src":"4221:179:183","text":"@notice Get the parent position of `_position`.\n @param _position The position to get the parent position of.\n @return parent_ The parent position of `position`."},"implemented":true,"kind":"function","modifiers":[],"name":"parent","nameLocation":"4414:6:183","parameters":{"id":103946,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103945,"mutability":"mutable","name":"_position","nameLocation":"4430:9:183","nodeType":"VariableDeclaration","scope":103953,"src":"4421:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103944,"nodeType":"UserDefinedTypeName","pathNode":{"id":103943,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"4421:8:183"},"referencedDeclaration":103871,"src":"4421:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"4420:20:183"},"returnParameters":{"id":103950,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103949,"mutability":"mutable","name":"parent_","nameLocation":"4473:7:183","nodeType":"VariableDeclaration","scope":103953,"src":"4464:16:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103948,"nodeType":"UserDefinedTypeName","pathNode":{"id":103947,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"4464:8:183"},"referencedDeclaration":103871,"src":"4464:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"4463:18:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":103973,"nodeType":"FunctionDefinition","src":"4980:313:183","nodes":[],"body":{"id":103972,"nodeType":"Block","src":"5084:209:183","nodes":[],"statements":[{"assignments":[103966],"declarations":[{"constant":false,"id":103966,"mutability":"mutable","name":"msb","nameLocation":"5102:3:183","nodeType":"VariableDeclaration","scope":103972,"src":"5094:11:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103965,"name":"uint256","nodeType":"ElementaryTypeName","src":"5094:7:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":103970,"initialValue":{"arguments":[{"id":103968,"name":"_position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103957,"src":"5114:9:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}],"id":103967,"name":"depth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103900,"src":"5108:5:183","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_Position_$103871_$returns$_t_uint8_$","typeString":"function (Position) pure returns (uint8)"}},"id":103969,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5108:16:183","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"VariableDeclarationStatement","src":"5094:30:183"},{"AST":{"nodeType":"YulBlock","src":"5143:144:183","statements":[{"nodeType":"YulVariableDeclaration","src":"5157:36:183","value":{"arguments":[{"name":"_maxDepth","nodeType":"YulIdentifier","src":"5178:9:183"},{"name":"msb","nodeType":"YulIdentifier","src":"5189:3:183"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"5174:3:183"},"nodeType":"YulFunctionCall","src":"5174:19:183"},"variables":[{"name":"remaining","nodeType":"YulTypedName","src":"5161:9:183","type":""}]},{"nodeType":"YulAssignment","src":"5206:71:183","value":{"arguments":[{"arguments":[{"name":"remaining","nodeType":"YulIdentifier","src":"5228:9:183"},{"name":"_position","nodeType":"YulIdentifier","src":"5239:9:183"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"5224:3:183"},"nodeType":"YulFunctionCall","src":"5224:25:183"},{"arguments":[{"arguments":[{"name":"remaining","nodeType":"YulIdentifier","src":"5259:9:183"},{"kind":"number","nodeType":"YulLiteral","src":"5270:1:183","type":"","value":"1"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"5255:3:183"},"nodeType":"YulFunctionCall","src":"5255:17:183"},{"kind":"number","nodeType":"YulLiteral","src":"5274:1:183","type":"","value":"1"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"5251:3:183"},"nodeType":"YulFunctionCall","src":"5251:25:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"5221:2:183"},"nodeType":"YulFunctionCall","src":"5221:56:183"},"variableNames":[{"name":"rightIndex_","nodeType":"YulIdentifier","src":"5206:11:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":103959,"isOffset":false,"isSlot":false,"src":"5178:9:183","valueSize":1},{"declaration":103957,"isOffset":false,"isSlot":false,"src":"5239:9:183","valueSize":1},{"declaration":103966,"isOffset":false,"isSlot":false,"src":"5189:3:183","valueSize":1},{"declaration":103963,"isOffset":false,"isSlot":false,"src":"5206:11:183","valueSize":1}],"id":103971,"nodeType":"InlineAssembly","src":"5134:153:183"}]},"documentation":{"id":103954,"nodeType":"StructuredDocumentation","src":"4565:410:183","text":"@notice Get the deepest, right most gindex relative to the `position`. This is equivalent to\n         calling `right` on a position until the maximum depth is reached.\n @param _position The position to get the relative deepest, right most gindex of.\n @param _maxDepth The maximum depth of the game.\n @return rightIndex_ The deepest, right most gindex relative to the `position`."},"implemented":true,"kind":"function","modifiers":[],"name":"rightIndex","nameLocation":"4989:10:183","parameters":{"id":103960,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103957,"mutability":"mutable","name":"_position","nameLocation":"5009:9:183","nodeType":"VariableDeclaration","scope":103973,"src":"5000:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103956,"nodeType":"UserDefinedTypeName","pathNode":{"id":103955,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"5000:8:183"},"referencedDeclaration":103871,"src":"5000:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"},{"constant":false,"id":103959,"mutability":"mutable","name":"_maxDepth","nameLocation":"5028:9:183","nodeType":"VariableDeclaration","scope":103973,"src":"5020:17:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103958,"name":"uint256","nodeType":"ElementaryTypeName","src":"5020:7:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4999:39:183"},"returnParameters":{"id":103964,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103963,"mutability":"mutable","name":"rightIndex_","nameLocation":"5071:11:183","nodeType":"VariableDeclaration","scope":103973,"src":"5062:20:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103962,"nodeType":"UserDefinedTypeName","pathNode":{"id":103961,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"5062:8:183"},"referencedDeclaration":103871,"src":"5062:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"5061:22:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":103992,"nodeType":"FunctionDefinition","src":"5741:336:183","nodes":[],"body":{"id":103991,"nodeType":"Block","src":"5844:233:183","nodes":[],"statements":[{"assignments":[103985],"declarations":[{"constant":false,"id":103985,"mutability":"mutable","name":"msb","nameLocation":"5862:3:183","nodeType":"VariableDeclaration","scope":103991,"src":"5854:11:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103984,"name":"uint256","nodeType":"ElementaryTypeName","src":"5854:7:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":103989,"initialValue":{"arguments":[{"id":103987,"name":"_position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103977,"src":"5874:9:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}],"id":103986,"name":"depth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103900,"src":"5868:5:183","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_Position_$103871_$returns$_t_uint8_$","typeString":"function (Position) pure returns (uint8)"}},"id":103988,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5868:16:183","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"VariableDeclarationStatement","src":"5854:30:183"},{"AST":{"nodeType":"YulBlock","src":"5903:168:183","statements":[{"nodeType":"YulVariableDeclaration","src":"5917:36:183","value":{"arguments":[{"name":"_maxDepth","nodeType":"YulIdentifier","src":"5938:9:183"},{"name":"msb","nodeType":"YulIdentifier","src":"5949:3:183"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"5934:3:183"},"nodeType":"YulFunctionCall","src":"5934:19:183"},"variables":[{"name":"remaining","nodeType":"YulTypedName","src":"5921:9:183","type":""}]},{"nodeType":"YulAssignment","src":"5966:95:183","value":{"arguments":[{"arguments":[{"arguments":[{"name":"remaining","nodeType":"YulIdentifier","src":"5992:9:183"},{"name":"_position","nodeType":"YulIdentifier","src":"6003:9:183"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"5988:3:183"},"nodeType":"YulFunctionCall","src":"5988:25:183"},{"arguments":[{"arguments":[{"name":"remaining","nodeType":"YulIdentifier","src":"6023:9:183"},{"kind":"number","nodeType":"YulLiteral","src":"6034:1:183","type":"","value":"1"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"6019:3:183"},"nodeType":"YulFunctionCall","src":"6019:17:183"},{"kind":"number","nodeType":"YulLiteral","src":"6038:1:183","type":"","value":"1"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"6015:3:183"},"nodeType":"YulFunctionCall","src":"6015:25:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"5985:2:183"},"nodeType":"YulFunctionCall","src":"5985:56:183"},{"arguments":[{"name":"_maxDepth","nodeType":"YulIdentifier","src":"6047:9:183"},{"kind":"number","nodeType":"YulLiteral","src":"6058:1:183","type":"","value":"1"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"6043:3:183"},"nodeType":"YulFunctionCall","src":"6043:17:183"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"5981:3:183"},"nodeType":"YulFunctionCall","src":"5981:80:183"},"variableNames":[{"name":"traceIndex_","nodeType":"YulIdentifier","src":"5966:11:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":103979,"isOffset":false,"isSlot":false,"src":"5938:9:183","valueSize":1},{"declaration":103979,"isOffset":false,"isSlot":false,"src":"6047:9:183","valueSize":1},{"declaration":103977,"isOffset":false,"isSlot":false,"src":"6003:9:183","valueSize":1},{"declaration":103985,"isOffset":false,"isSlot":false,"src":"5949:3:183","valueSize":1},{"declaration":103982,"isOffset":false,"isSlot":false,"src":"5966:11:183","valueSize":1}],"id":103990,"nodeType":"InlineAssembly","src":"5894:177:183"}]},"documentation":{"id":103974,"nodeType":"StructuredDocumentation","src":"5299:437:183","text":"@notice Get the deepest, right most trace index relative to the `position`. This is\n         equivalent to calling `right` on a position until the maximum depth is reached and\n         then finding its index at depth.\n @param _position The position to get the relative trace index of.\n @param _maxDepth The maximum depth of the game.\n @return traceIndex_ The trace index relative to the `position`."},"implemented":true,"kind":"function","modifiers":[],"name":"traceIndex","nameLocation":"5750:10:183","parameters":{"id":103980,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103977,"mutability":"mutable","name":"_position","nameLocation":"5770:9:183","nodeType":"VariableDeclaration","scope":103992,"src":"5761:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103976,"nodeType":"UserDefinedTypeName","pathNode":{"id":103975,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"5761:8:183"},"referencedDeclaration":103871,"src":"5761:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"},{"constant":false,"id":103979,"mutability":"mutable","name":"_maxDepth","nameLocation":"5789:9:183","nodeType":"VariableDeclaration","scope":103992,"src":"5781:17:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103978,"name":"uint256","nodeType":"ElementaryTypeName","src":"5781:7:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5760:39:183"},"returnParameters":{"id":103983,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103982,"mutability":"mutable","name":"traceIndex_","nameLocation":"5831:11:183","nodeType":"VariableDeclaration","scope":103992,"src":"5823:19:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":103981,"name":"uint256","nodeType":"ElementaryTypeName","src":"5823:7:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5822:21:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":104015,"nodeType":"FunctionDefinition","src":"6379:710:183","nodes":[],"body":{"id":104014,"nodeType":"Block","src":"6465:624:183","nodes":[],"statements":[{"assignments":[104004],"declarations":[{"constant":false,"id":104004,"mutability":"mutable","name":"lsb","nameLocation":"6561:3:183","nodeType":"VariableDeclaration","scope":104014,"src":"6552:12:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":104003,"nodeType":"UserDefinedTypeName","pathNode":{"id":104002,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"6552:8:183"},"referencedDeclaration":103871,"src":"6552:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"id":104005,"nodeType":"VariableDeclarationStatement","src":"6552:12:183"},{"AST":{"nodeType":"YulBlock","src":"6583:69:183","statements":[{"nodeType":"YulAssignment","src":"6597:45:183","value":{"arguments":[{"arguments":[{"name":"_position","nodeType":"YulIdentifier","src":"6612:9:183"}],"functionName":{"name":"not","nodeType":"YulIdentifier","src":"6608:3:183"},"nodeType":"YulFunctionCall","src":"6608:14:183"},{"arguments":[{"name":"_position","nodeType":"YulIdentifier","src":"6628:9:183"},{"kind":"number","nodeType":"YulLiteral","src":"6639:1:183","type":"","value":"1"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"6624:3:183"},"nodeType":"YulFunctionCall","src":"6624:17:183"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"6604:3:183"},"nodeType":"YulFunctionCall","src":"6604:38:183"},"variableNames":[{"name":"lsb","nodeType":"YulIdentifier","src":"6597:3:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":103996,"isOffset":false,"isSlot":false,"src":"6612:9:183","valueSize":1},{"declaration":103996,"isOffset":false,"isSlot":false,"src":"6628:9:183","valueSize":1},{"declaration":104004,"isOffset":false,"isSlot":false,"src":"6597:3:183","valueSize":1}],"id":104006,"nodeType":"InlineAssembly","src":"6574:78:183"},{"assignments":[104008],"declarations":[{"constant":false,"id":104008,"mutability":"mutable","name":"msb","nameLocation":"6737:3:183","nodeType":"VariableDeclaration","scope":104014,"src":"6729:11:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":104007,"name":"uint256","nodeType":"ElementaryTypeName","src":"6729:7:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":104012,"initialValue":{"arguments":[{"id":104010,"name":"lsb","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104004,"src":"6749:3:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}],"id":104009,"name":"depth","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103900,"src":"6743:5:183","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_Position_$103871_$returns$_t_uint8_$","typeString":"function (Position) pure returns (uint8)"}},"id":104011,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6743:10:183","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"VariableDeclarationStatement","src":"6729:24:183"},{"AST":{"nodeType":"YulBlock","src":"6929:154:183","statements":[{"nodeType":"YulVariableDeclaration","src":"6943:28:183","value":{"arguments":[{"name":"msb","nodeType":"YulIdentifier","src":"6956:3:183"},{"name":"_position","nodeType":"YulIdentifier","src":"6961:9:183"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"6952:3:183"},"nodeType":"YulFunctionCall","src":"6952:19:183"},"variables":[{"name":"a","nodeType":"YulTypedName","src":"6947:1:183","type":""}]},{"nodeType":"YulAssignment","src":"7044:29:183","value":{"arguments":[{"name":"a","nodeType":"YulIdentifier","src":"7060:1:183"},{"arguments":[{"name":"a","nodeType":"YulIdentifier","src":"7070:1:183"}],"functionName":{"name":"iszero","nodeType":"YulIdentifier","src":"7063:6:183"},"nodeType":"YulFunctionCall","src":"7063:9:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"7057:2:183"},"nodeType":"YulFunctionCall","src":"7057:16:183"},"variableNames":[{"name":"ancestor_","nodeType":"YulIdentifier","src":"7044:9:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":103996,"isOffset":false,"isSlot":false,"src":"6961:9:183","valueSize":1},{"declaration":104000,"isOffset":false,"isSlot":false,"src":"7044:9:183","valueSize":1},{"declaration":104008,"isOffset":false,"isSlot":false,"src":"6956:3:183","valueSize":1}],"id":104013,"nodeType":"InlineAssembly","src":"6920:163:183"}]},"documentation":{"id":103993,"nodeType":"StructuredDocumentation","src":"6083:291:183","text":"@notice Gets the position of the highest ancestor of `_position` that commits to the same\n         trace index.\n @param _position The position to get the highest ancestor of.\n @return ancestor_ The highest ancestor of `position` that commits to the same trace index."},"implemented":true,"kind":"function","modifiers":[],"name":"traceAncestor","nameLocation":"6388:13:183","parameters":{"id":103997,"nodeType":"ParameterList","parameters":[{"constant":false,"id":103996,"mutability":"mutable","name":"_position","nameLocation":"6411:9:183","nodeType":"VariableDeclaration","scope":104015,"src":"6402:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103995,"nodeType":"UserDefinedTypeName","pathNode":{"id":103994,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"6402:8:183"},"referencedDeclaration":103871,"src":"6402:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"6401:20:183"},"returnParameters":{"id":104001,"nodeType":"ParameterList","parameters":[{"constant":false,"id":104000,"mutability":"mutable","name":"ancestor_","nameLocation":"6454:9:183","nodeType":"VariableDeclaration","scope":104015,"src":"6445:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":103999,"nodeType":"UserDefinedTypeName","pathNode":{"id":103998,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"6445:8:183"},"referencedDeclaration":103871,"src":"6445:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"6444:20:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":104058,"nodeType":"FunctionDefinition","src":"7608:944:183","nodes":[],"body":{"id":104057,"nodeType":"Block","src":"7781:771:183","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":104031,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":104027,"name":"_position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104019,"src":"7877:9:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"id":104028,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"depth","nodeType":"MemberAccess","referencedDeclaration":103900,"src":"7877:15:183","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_Position_$103871_$returns$_t_uint8_$bound_to$_t_userDefinedValueType$_Position_$103871_$","typeString":"function (Position) pure returns (uint8)"}},"id":104029,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7877:17:183","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":104030,"name":"_upperBoundExclusive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104021,"src":"7898:20:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7877:41:183","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":104034,"nodeType":"IfStatement","src":"7873:222:183","trueBody":{"id":104033,"nodeType":"Block","src":"7920:175:183","statements":[{"AST":{"nodeType":"YulBlock","src":"7943:142:183","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"8019:4:183","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"8025:10:183","type":"","value":"0xb34b5c22"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"8012:6:183"},"nodeType":"YulFunctionCall","src":"8012:24:183"},"nodeType":"YulExpressionStatement","src":"8012:24:183"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"8060:4:183","type":"","value":"0x1C"},{"kind":"number","nodeType":"YulLiteral","src":"8066:4:183","type":"","value":"0x04"}],"functionName":{"name":"revert","nodeType":"YulIdentifier","src":"8053:6:183"},"nodeType":"YulFunctionCall","src":"8053:18:183"},"nodeType":"YulExpressionStatement","src":"8053:18:183"}]},"evmVersion":"london","externalReferences":[],"id":104032,"nodeType":"InlineAssembly","src":"7934:151:183"}]}},{"expression":{"id":104039,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":104035,"name":"ancestor_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104025,"src":"8148:9:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":104037,"name":"_position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104019,"src":"8174:9:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}],"id":104036,"name":"traceAncestor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104015,"src":"8160:13:183","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_Position_$103871_$returns$_t_userDefinedValueType$_Position_$103871_$","typeString":"function (Position) pure returns (Position)"}},"id":104038,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8160:24:183","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"src":"8148:36:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"id":104040,"nodeType":"ExpressionStatement","src":"8148:36:183"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":104045,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":104041,"name":"ancestor_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104025,"src":"8420:9:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"id":104042,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"depth","nodeType":"MemberAccess","referencedDeclaration":103900,"src":"8420:15:183","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_Position_$103871_$returns$_t_uint8_$bound_to$_t_userDefinedValueType$_Position_$103871_$","typeString":"function (Position) pure returns (uint8)"}},"id":104043,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8420:17:183","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":104044,"name":"_upperBoundExclusive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104021,"src":"8441:20:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8420:41:183","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":104056,"nodeType":"IfStatement","src":"8416:130:183","trueBody":{"id":104055,"nodeType":"Block","src":"8463:83:183","statements":[{"expression":{"id":104053,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":104046,"name":"ancestor_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104025,"src":"8477:9:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":104051,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":104049,"name":"_upperBoundExclusive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104021,"src":"8510:20:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":104050,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8533:1:183","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"8510:24:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":104047,"name":"ancestor_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104025,"src":"8489:9:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"id":104048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"rightIndex","nodeType":"MemberAccess","referencedDeclaration":103973,"src":"8489:20:183","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_Position_$103871_$_t_uint256_$returns$_t_userDefinedValueType$_Position_$103871_$bound_to$_t_userDefinedValueType$_Position_$103871_$","typeString":"function (Position,uint256) pure returns (Position)"}},"id":104052,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8489:46:183","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"src":"8477:58:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"id":104054,"nodeType":"ExpressionStatement","src":"8477:58:183"}]}}]},"documentation":{"id":104016,"nodeType":"StructuredDocumentation","src":"7095:508:183","text":"@notice Gets the position of the highest ancestor of `_position` that commits to the same\n         trace index, while still being below `_upperBoundExclusive`.\n @param _position The position to get the highest ancestor of.\n @param _upperBoundExclusive The exclusive upper depth bound, used to inform where to stop in order\n                             to not escape a sub-tree.\n @return ancestor_ The highest ancestor of `position` that commits to the same trace index."},"implemented":true,"kind":"function","modifiers":[],"name":"traceAncestorBounded","nameLocation":"7617:20:183","parameters":{"id":104022,"nodeType":"ParameterList","parameters":[{"constant":false,"id":104019,"mutability":"mutable","name":"_position","nameLocation":"7656:9:183","nodeType":"VariableDeclaration","scope":104058,"src":"7647:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":104018,"nodeType":"UserDefinedTypeName","pathNode":{"id":104017,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"7647:8:183"},"referencedDeclaration":103871,"src":"7647:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"},{"constant":false,"id":104021,"mutability":"mutable","name":"_upperBoundExclusive","nameLocation":"7683:20:183","nodeType":"VariableDeclaration","scope":104058,"src":"7675:28:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":104020,"name":"uint256","nodeType":"ElementaryTypeName","src":"7675:7:183","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7637:72:183"},"returnParameters":{"id":104026,"nodeType":"ParameterList","parameters":[{"constant":false,"id":104025,"mutability":"mutable","name":"ancestor_","nameLocation":"7766:9:183","nodeType":"VariableDeclaration","scope":104058,"src":"7757:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":104024,"nodeType":"UserDefinedTypeName","pathNode":{"id":104023,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"7757:8:183"},"referencedDeclaration":103871,"src":"7757:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"7756:20:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":104072,"nodeType":"FunctionDefinition","src":"8973:187:183","nodes":[],"body":{"id":104071,"nodeType":"Block","src":"9062:98:183","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"9081:73:183","statements":[{"nodeType":"YulAssignment","src":"9095:49:183","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"9108:1:183","type":"","value":"1"},{"arguments":[{"arguments":[{"name":"_isAttack","nodeType":"YulIdentifier","src":"9121:9:183"}],"functionName":{"name":"iszero","nodeType":"YulIdentifier","src":"9114:6:183"},"nodeType":"YulFunctionCall","src":"9114:17:183"},{"name":"_position","nodeType":"YulIdentifier","src":"9133:9:183"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"9111:2:183"},"nodeType":"YulFunctionCall","src":"9111:32:183"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"9104:3:183"},"nodeType":"YulFunctionCall","src":"9104:40:183"},"variableNames":[{"name":"move_","nodeType":"YulIdentifier","src":"9095:5:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":104064,"isOffset":false,"isSlot":false,"src":"9121:9:183","valueSize":1},{"declaration":104062,"isOffset":false,"isSlot":false,"src":"9133:9:183","valueSize":1},{"declaration":104068,"isOffset":false,"isSlot":false,"src":"9095:5:183","valueSize":1}],"id":104070,"nodeType":"InlineAssembly","src":"9072:82:183"}]},"documentation":{"id":104059,"nodeType":"StructuredDocumentation","src":"8558:410:183","text":"@notice Get the move position of `_position`, which is the left child of:\n         1. `_position` if `_isAttack` is true.\n         2. `_position | 1` if `_isAttack` is false.\n @param _position The position to get the relative attack/defense position of.\n @param _isAttack Whether or not the move is an attack move.\n @return move_ The move position relative to `position`."},"implemented":true,"kind":"function","modifiers":[],"name":"move","nameLocation":"8982:4:183","parameters":{"id":104065,"nodeType":"ParameterList","parameters":[{"constant":false,"id":104062,"mutability":"mutable","name":"_position","nameLocation":"8996:9:183","nodeType":"VariableDeclaration","scope":104072,"src":"8987:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":104061,"nodeType":"UserDefinedTypeName","pathNode":{"id":104060,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"8987:8:183"},"referencedDeclaration":103871,"src":"8987:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"},{"constant":false,"id":104064,"mutability":"mutable","name":"_isAttack","nameLocation":"9012:9:183","nodeType":"VariableDeclaration","scope":104072,"src":"9007:14:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":104063,"name":"bool","nodeType":"ElementaryTypeName","src":"9007:4:183","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"8986:36:183"},"returnParameters":{"id":104069,"nodeType":"ParameterList","parameters":[{"constant":false,"id":104068,"mutability":"mutable","name":"move_","nameLocation":"9055:5:183","nodeType":"VariableDeclaration","scope":104072,"src":"9046:14:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":104067,"nodeType":"UserDefinedTypeName","pathNode":{"id":104066,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"9046:8:183"},"referencedDeclaration":103871,"src":"9046:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"9045:16:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":104083,"nodeType":"FunctionDefinition","src":"9383:136:183","nodes":[],"body":{"id":104082,"nodeType":"Block","src":"9453:66:183","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"9472:41:183","statements":[{"nodeType":"YulAssignment","src":"9486:17:183","value":{"name":"_position","nodeType":"YulIdentifier","src":"9494:9:183"},"variableNames":[{"name":"raw_","nodeType":"YulIdentifier","src":"9486:4:183"}]}]},"evmVersion":"london","externalReferences":[{"declaration":104076,"isOffset":false,"isSlot":false,"src":"9494:9:183","valueSize":1},{"declaration":104079,"isOffset":false,"isSlot":false,"src":"9486:4:183","valueSize":1}],"id":104081,"nodeType":"InlineAssembly","src":"9463:50:183"}]},"documentation":{"id":104073,"nodeType":"StructuredDocumentation","src":"9166:212:183","text":"@notice Get the value of a `Position` type in the form of the underlying uint128.\n @param _position The position to get the value of.\n @return raw_ The value of the `position` as a uint128 type."},"implemented":true,"kind":"function","modifiers":[],"name":"raw","nameLocation":"9392:3:183","parameters":{"id":104077,"nodeType":"ParameterList","parameters":[{"constant":false,"id":104076,"mutability":"mutable","name":"_position","nameLocation":"9405:9:183","nodeType":"VariableDeclaration","scope":104083,"src":"9396:18:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"},"typeName":{"id":104075,"nodeType":"UserDefinedTypeName","pathNode":{"id":104074,"name":"Position","nodeType":"IdentifierPath","referencedDeclaration":103871,"src":"9396:8:183"},"referencedDeclaration":103871,"src":"9396:8:183","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_Position_$103871","typeString":"Position"}},"visibility":"internal"}],"src":"9395:20:183"},"returnParameters":{"id":104080,"nodeType":"ParameterList","parameters":[{"constant":false,"id":104079,"mutability":"mutable","name":"raw_","nameLocation":"9447:4:183","nodeType":"VariableDeclaration","scope":104083,"src":"9439:12:183","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":104078,"name":"uint128","nodeType":"ElementaryTypeName","src":"9439:7:183","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"9438:14:183"},"scope":104084,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"LibPosition","contractDependencies":[],"contractKind":"library","documentation":{"id":103872,"nodeType":"StructuredDocumentation","src":"487:112:183","text":"@title LibPosition\n @notice This library contains helper functions for working with the `Position` type."},"fullyImplemented":true,"linearizedBaseContracts":[104084],"name":"LibPosition","nameLocation":"607:11:183","scope":104085,"usedErrors":[]}],"license":"MIT"},"id":183}